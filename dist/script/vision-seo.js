({h1:{},link:{title:"Link status",data:[],nbError:0,nbWarning:0},img:{title:"Image Status",data:[],nbError:0,nbWarning:0},meta:{title:"Meta Status",data:[],nbError:0,nbWarning:0},perf:{title:"Performance Status",data:[],nbError:0,nbWarning:0},hierarchy:{title:"Hierarchy Status",data:[],nbError:0,nbWarning:0},point:0,total:0,init:function(){this.prepareIcon().getHierarchy().getImage().getLink().getPerformance().getMeta().prepareBar()},getMeta:function(){var s=document.querySelectorAll('meta[name="viewport"]');this.total++,0<s.length&&null!==(s=s[0]).getAttribute("content")?(this.meta.data.push('<div class="vision-seo-item seo-css-success">Mobile Viewport detected</div><div class="vision-seo-source"><code>'+s.outerHTML.trim().replace("<","&lt;").replace(">","&gt;")+"</code></div>"),this.point++):(this.meta.data.push('<div class="vision-seo-item seo-css-warning">Mobile Viewport not detected</div>'),this.meta.nbError++);var e=document.querySelectorAll('link[rel="canonical"]');this.total++,0<e.length?null===(e=e[0]).getAttribute("href")||""===e.getAttribute("href").trim()?(this.meta.data.push('<div class="vision-seo-item seo-css-warning">canonical not exist or exist but have no value</div>'),this.meta.nbError++):(this.meta.data.push('<div class="vision-seo-item seo-css-success">canonical exist</div><div class="vision-seo-source"><code>'+e.outerHTML.trim().replace("<","&lt;").replace(">","&gt;")+"</code></div>"),this.point++):this.meta.data.push('<div class="vision-seo-item seo-css-warning">canonical not exist or exist but have no value</div>');var t=document.querySelectorAll('meta[name="robots"]');if(this.total++,0<t.length){var i=(t=t[0]).getAttribute("content");if(null!==i){var a=new RegExp("(noindex|none)","i");i.match(a)?(this.meta.nbError++,this.meta.data.push('<div class="vision-seo-item seo-css-error">Page is blocked from indexing</div><div class="vision-seo-source"><code>'+t.outerHTML.trim().replace("<","&lt;").replace(">","&gt;")+"</code></div>")):(this.meta.data.push('<div class="vision-seo-item seo-css-success">Page isn\'t blocked from indexing</div>'),this.point++)}else this.meta.data.push('<div class="vision-seo-item seo-css-success">Page isn\'t blocked from indexing</div>'),this.point++}else this.meta.data.push('<div class="vision-seo-item seo-css-success">Page isn\'t blocked from indexing</div>');var n=document.getElementsByTagName("title"),o=document.querySelectorAll('meta[name="description"]');if(this.total++,1===o.length){var r=o[0].getAttribute("content").length;0===r?(this.meta.data.push('<div class="vision-seo-item seo-css-error">description is empty<span>'+r+' chars</span></div><div class="vision-seo-tips">description size should be between 50 to 300 characters</div>'),this.meta.nbError++):r<50?(this.meta.data.push('<div class="vision-seo-item seo-css-warning">description is too small <span>'+r+' chars</span></div><div class="vision-seo-tips">description size should be between 50 to 300 characters</div>'),this.point+=.5,this.meta.nbWarning++):50<r&&r<300?(this.meta.data.push('<div class="vision-seo-item seo-css-success">description has the good size <span>'+r+' chars</span></div><div class="vision-seo-tips">description size should be between 50 to 300 characters</div>'),this.point++):(this.meta.data.push('<div class="vision-seo-item seo-css-warning">description is too long <span>'+r+' chars</span></div><div class="vision-seo-tips">description size should be between 50 to 300 characters</div>'),this.point+=.5,this.meta.nbWarning++)}else this.meta.data.push('<div class="vision-seo-item seo-css-error">description is missing</div><div class="vision-seo-tips">description size should be between 50 to 300 characters</div>'),this.meta.nbError++;if(this.total++,1===n.length){var c=n[0].innerHTML.length;35<c&&c<60?(this.meta.data.push('<div class="vision-seo-item seo-css-success">title has the good size <span>'+c+' chars</span></div><div class="vision-seo-tips">title size should be between 35 to 50 characters</div>'),this.point++):c<30?(this.meta.data.push('<div class="vision-seo-item seo-css-warning">title is too small <span>'+c+' chars</span></div><div class="vision-seo-tips">title size should be between 35 to 50 characters</div>'),this.point+=.5,this.meta.nbWarning++):0===c?(this.meta.data.push('<div class="vision-seo-item seo-css-error">title is empty <span>'+c+' chars</span></div><div class="vision-seo-tips">title size should be between 35 to 50 characters</div>'),this.meta.nbError++):(this.meta.data.push('<div class="vision-seo-item seo-css-warning">title is too long <span>'+c+' chars</span></div><div class="vision-seo-tips">title size should be between 35 to 50 characters</div>'),this.point+=.5,this.meta.nbWarning++)}else this.meta.data.push('<div class="vision-seo-item seo-css-error">title is missing</span></div><div class="vision-seo-tips">title size should be between 35 to 50 characters</div>');var l=document.querySelectorAll('meta[property^="twitter"]'),d=document.querySelectorAll('meta[property^="og:"]');return this.total++,0<l.length?(this.meta.data.push('<div class="vision-seo-item seo-css-success">Twitter graph detected</div>'),this.point++):(this.meta.data.push('<div class="vision-seo-item seo-css-warning">Twitter graph not detected</div>'),this.point+=.5,this.meta.nbWarning++),this.total++,0<d.length?(this.meta.data.push('<div class="vision-seo-item seo-css-success">Facebook Open graph detected</div>'),this.point++):(this.meta.data.push('<div class="vision-seo-item seo-css-warning">Facebook Open graph not detected</div>'),this.point+=.5,this.meta.nbWarning++),this},getPerformance:function(){var s=document.getElementsByTagName("*").length,u=this;this.total++,1e3<s?this.perf.nbError++:this.point++,this.perf.data.push('<div class="vision-seo-item '+(s<1e3?"seo-css-success":"seo-css-error")+'">'+(1e3<s?"too many node in page <span>"+s+" nodes</span>":"under 1000 nodes <span>"+s+" nodes</span>")+"</div>"),this.total++;var e="https:"===location.protocol;return!1===e?this.perf.nbError++:this.point++,this.perf.data.push('<div class="vision-seo-item '+(e?"seo-css-success":"seo-css-error")+'">'+(e?"Your site is https":"Your site is not https")+"</div>"),window.addEventListener("load",function(){if(this.total++,"performance"in window&&(performance.navigation&&u.perf.data.push('<div class="vision-seo-item '+(0<performance.navigation.redirectCount?"seo-css-warning":"seo-css-success")+'">Redirect Count<span>'+performance.navigation.redirectCount+"</span></div>"),performance.timing)){var s=[],e=performance.timing,t=e.loadEventStart-e.navigationStart,i=e.domContentLoadedEventStart-e.navigationStart,a=e.redirectStart-e.navigationStart<0?0:e.redirectStart-e.navigationStart,n=e.redirectEnd-e.redirectStart,o=e.domainLookupEnd-e.domainLookupStart,r=e.connectEnd-e.connectStart,c=e.responseStart-e.requestStart,l=e.responseEnd-e.responseStart,d=e.domComplete-e.domLoading,h=[];s.push({label:"navigation",timing:a,value:Math.round(100*a/t)}),s.push({label:"redirect",timing:n,value:Math.round(100*n/t)}),s.push({label:"DNS Lookup",timing:o,value:Math.round(100*o/t)}),s.push({label:"network",timing:r,value:Math.round(100*r/t)}),s.push({label:"request",timing:c,value:Math.round(100*c/t)}),s.push({label:"response",timing:l,value:Math.round(100*l/t)}),s.push({label:"dom processing",timing:d,value:Math.round(100*d/t)}),h.push({label:"ready (DOMContentLoaded)",timing:i,value:100*i/t,css:"ready"}),h.push({label:"load",timing:t,value:100,css:"load"});var p=0;u.perf.data.push('<section class="vision-seo-perf">'),s.forEach(function(s){u.perf.data.push('<div class="vision-seo-perf-item"><span class="vision-seo-perf-label">'+s.label+'</span><span class="vision-seo-perf-bar" style="left:'+(130+p)+"px;width:"+s.value+'px;"></span><span class="vision-seo-ms">'+s.timing+" ms</span></div>"),p+=s.value}),h.forEach(function(s){u.perf.data.push('<div class="vision-seo-perf-event-'+s.css+'" style="left:'+(130+s.value)+'px;" title="'+s.label+": "+s.timing+' ms"></div><div class="vision-seo-perf-event-'+s.css+'-label">'+s.label+'<span class="vision-seo-ms">'+s.timing+" ms</span></div>")}),u.perf.data.push("</section>");var v=performance.timing.loadEventStart-performance.timing.navigationStart;u.perf.data.push('<div class="vision-seo-item '+(2500<v?"seo-css-error":1500<v?"seo-css-warning":"seo-css-success")+'">loading time  <span>'+v+' ms</span></div><div class="vision-seo-tips">page loading time should be under 1 500 ms</div>'),this.total++,2500<v?u.perf.nbError++:1500<v&&v<2500?(this.point+=.5,u.perf.nbWarning++):this.point++}}),this},getLink:function(){var s=document.querySelectorAll("a"),e=0,t=0,i=0;s.forEach(function(s){""===s.innerHTML.trim()&&e++,"_blank"===s.getAttribute("target")&&t++,""!==s.getAttribute("title")&&null!==s.getAttribute("title")||i++}),this.total++,0<e?(this.link.data.push('<div class="vision-seo-item seo-css-error">A with empty content : <span>'+e+"</span></div>"),this.link.nbError++):(this.point++,this.link.data.push('<div class="vision-seo-item seo-css-success">A with empty content : <span>0</span></div>')),this.total++,0<t?(this.link.data.push('<div class="vision-seo-item seo-css-warning"><input class="vision-seo-checkbox" type="checkbox" data-click=\'a[target="_blank"]\' title="reveal"/>A with target="_blank" : <span>'+t+"</span></div>"),this.point+=.5,this.link.nbWarning++):(this.link.data.push('<div class="vision-seo-item seo-css-success">A with target="_blank" : <span>0</span></div>'),this.point++),this.total++,0<i?(this.link.data.push('<div class="vision-seo-item seo-css-warning">A with title attribute : <span>'+i+"</span></div>"),this.point+=.5,this.link.nbWarning++):(this.link.data.push('<div class="vision-seo-item seo-css-success">A with title attribute : <span>0</span></div>'),this.point++);var a=document.querySelectorAll('a:not([href]), a[href=""]').length;return this.link.data.push('<div class="vision-seo-item '+(0<a?"seo-css-error":"seo-css-success")+'">'+(0<a?'<input class="vision-seo-checkbox" type="checkbox" data-click=\'a:not([href]), a[href="]\' title="reveal"/>':"")+"A without href attribute : <span>"+a+"</span></div>"),this.total++,0<a?this.link.nbError++:this.point++,this},getImage:function(){var s=document.querySelectorAll('img:not([src]), img[src=""]').length,e=document.querySelectorAll('img:not([alt]), img[alt=""]').length;return this.img.data.push('<div class="vision-seo-item '+(0<s?"seo-css-error":"seo-css-success")+'"><input class="vision-seo-checkbox" type="checkbox" data-click=\'img:not([src]), img[src=""]\' title="reveal"/>&lt;img&gt; without src or with empty src<span>'+s+"</span></div>"),this.total++,0<s?this.img.nbError++:this.point++,this.img.data.push('<div class="vision-seo-item '+(0<e?"seo-css-error":"seo-css-success")+'"><input class="vision-seo-checkbox" type="checkbox" data-click=\'img:not([alt]), img[alt=""]\' title="reveal"/>&lt;img&gt; without alt attribute<span>'+e+"</span></div>"),this.total++,0<e?this.img.nbError++:this.point++,this},prepareBar:function(){var i=document.createElement("aside"),a=document.createElement("div"),n=this;function o(s){var e=document.createElement("div");e.className="vision-seo-content "+s,e.innerHTML='<div class="vision-seo-title">'+n[s].title+'<i class="material-icons vision-seo-close">close</i></div>',e.innerHTML+=n[s].data.join(""),i.appendChild(e)}a.className="vision-seo-bar",a.innerHTML=' <button class="vision-seo-btn" data-type="hierarchy"><i class="material-icons badge seo-css-default">title</i>hierarchy</button><button class="vision-seo-btn" data-type="link"><i class="material-icons badge seo-css-default">link</i>link</button><button class="vision-seo-btn" data-type="img"><i class="material-icons badge seo-css-default">insert_photo</i>image</button><button class="vision-seo-btn" data-type="meta"><i class="material-icons badge seo-css-default">code</i>meta</button><button class="vision-seo-btn" data-type="perf"><i class="material-icons badge seo-css-default">alarm</i>Performance</button>',document.body.appendChild(a),i.className="vision-seo-aside",i.id="vision-seo-aside",document.body.appendChild(i);var r=document.querySelectorAll(".vision-seo-bar button");return r.forEach(function(e){e.addEventListener("click",function(){i.classList.add("open"),document.querySelectorAll(".vision-seo-content").forEach(function(s){s.classList.remove("selected")});var s=e.getAttribute("data-type");void 0!==n[s]&&document.querySelectorAll(".vision-seo-content."+s)[0].classList.add("selected")})}),window.addEventListener("load",function(){o("hierarchy"),o("link"),o("img"),o("meta"),o("perf");var s=Math.round(100*n.point/n.total),e="seo-css-error";e=100===s?"seo-css-success":s<100&&74<s?"seo-css-almost":s<75&&49<s?"seo-css-warning":s<50&&10<s?"seo-css-bad":"seo-css-error";var t=document.createElement("div");t.className="vision-seo-score "+e,t.innerHTML="Your SEO score : <span>"+s+" %</span>",a.appendChild(t),r.forEach(function(s){var e=s.getAttribute("data-type");if(void 0!==n[e]){var t=n[e],i=document.createElement("div");0<t.nbError?(i.className="vision-seo-badge seo-css-error",i.innerHTML=t.nbError):0<t.nbWarning?(i.className="vision-seo-badge seo-css-warning",i.innerHTML=t.nbWarning):(i.className="vision-seo-badge seo-css-success",i.innerHTML='<i class="material-icons">done</i>'),s.appendChild(i)}}),i.addEventListener("click",function(s){var e=s.target;if(e.classList.contains("vision-seo-checkbox")){var t=e.getAttribute("data-click");document.querySelectorAll(t).forEach(function(s){s.classList.toggle("vision-seo-reveal")})}e.classList.contains("vision-seo-close")&&i.classList.remove("open")},!0)}),this},getHierarchy:function(){var e="",t="Hierarchy has no issue detected";["h1","h2","h3","h4","h5","h6"].map(function(s){0<document.getElementsByTagName(s).length?""!==e&&(t=" "+e+" not found but "+s+" found"):e=s}),this.hierarchy.data.push('<div class="vision-seo-item '+(""!==e?"seo-css-error":"seo-css-success")+'">'+t+"</div>"),this.total++,""!==e?this.hierarchy.nbError++:this.point++;var s=document.querySelectorAll("h1").length;return this.total++,0===s?(this.hierarchy.data.push('<div class="vision-seo-item seo-css-warning">No h1 detected<span>'+s+"</span></div>"),this.point+=.5,this.hierarchy.nbWarning++):1<s?(this.hierarchy.data.push('<div class="vision-seo-item seo-css-error"><input class="vision-seo-checkbox" type="checkbox" data-click=\'h1\' title="reveal"/>Too many h1 detected<span>'+s+"</span></div>"),this.hierarchy.nbError++):(this.hierarchy.data.push('<div class="vision-seo-item seo-css-success">h1 detected<span>'+s+"</span></div>"),this.point++),this},prepareIcon:function(){var s=document.createElement("link");s.rel="stylesheet",s.href="https://fonts.googleapis.com/icon?family=Material+Icons",document.head.appendChild(s);var e=document.createElement("link");return e.rel="stylesheet",e.href="https://fonts.googleapis.com/css?family=Cousine",document.head.appendChild(e),this}}).init();